<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Notty.html">
<link rel="next" href="Notty_lwt.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Notty" rel="Chapter" href="Notty.html">
<link title="Notty_unix" rel="Chapter" href="Notty_unix.html">
<link title="Notty_lwt" rel="Chapter" href="Notty_lwt.html"><link title="Fullscreen input and output" rel="Section" href="#fullscreen">
<link title="Inline output" rel="Section" href="#inline">
<link title="Capability detection" rel="Section" href="#caps">
<title>Notty_unix</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Notty.html" title="Notty">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Notty_lwt.html" title="Notty_lwt">Next</a>
</div>
<h1>Module <a href="type_Notty_unix.html">Notty_unix</a></h1>

<pre><span class="keyword">module</span> Notty_unix: <code class="code"><span class="keyword">sig</span></code> <a href="Notty_unix.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<code class="code"><span class="constructor">Notty</span></code> IO for pure <code class="code"><span class="constructor">Unix</span></code>.
<p>

    This is an IO module for <a href="Notty.html"><code class="code"><span class="constructor">Notty</span></code></a>.<br>
</div>
<hr width="100%">
<br>
<h1 id="fullscreen">Fullscreen input and output</h1>.<br>

<pre><span class="keyword">module</span> <a href="Notty_unix.Term.html">Term</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Notty_unix.Term.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
Terminal IO abstraction for fullscreen, interactive applications.
</div>
<br>
<h1 id="inline">Inline output</h1>
<p>

    These operations do not change the terminal state and do not assume
    exclusive access to the output. They can be combined with other means of
    producing output.<br>

<pre><span id="VALwinsize"><span class="keyword">val</span> winsize</span> : <code class="type">Unix.file_descr -> (int * int) option</code></pre><div class="info ">
<code class="code">winsize fd</code> is <code class="code"><span class="constructor">Some</span> (columns, rows)</code>, the current dimensions of <code class="code">fd</code>'s
    backing tty, or <code class="code"><span class="constructor">None</span></code>, when <code class="code">fd</code> is not backed by a tty.<br>
</div>

<pre><span id="VALoutput_image"><span class="keyword">val</span> output_image</span> : <code class="type">?cap:<a href="Notty.Cap.html#TYPEt">Cap.t</a> -> ?chan:out_channel -> <a href="Notty.html#TYPEimage">image</a> -> unit</code></pre><div class="info ">
<code class="code">output_image ~cap ~chan i</code> writes the image <code class="code">i</code> to <code class="code">chan</code>.
<p>

    The image is displayed in its full height. If the output is a tty, image
    width is clipped to the output width, otherwise, full width is used.
<p>

    <code class="code">~chan</code> defaults to <code class="code">stdout</code>.
<p>

    <code class="code">~cap</code> is the <a href="Notty_unix.html#caps">optional</a> terminal capability set.
<p>

    <b>Note</b> No leading or trailing characters are produced, so:
    <ul>
<li>an image 1-cell high can be a part of a line of output, preceded and/or
       followed by other output;</li>
<li>if the cursor is on on the first column, image of any height can be
       correctly printed; and</li>
<li>outputting an image higher than 1 when the cursor has advanced
       past the first column will result in misaligned output.</li>
</ul>
<br>
</div>

<pre><span id="VALoutput_image_size"><span class="keyword">val</span> output_image_size</span> : <code class="type">?cap:<a href="Notty.Cap.html#TYPEt">Cap.t</a> -><br>       ?chan:out_channel -> (int * int -> <a href="Notty.html#TYPEimage">image</a>) -> unit</code></pre><div class="info ">
<code class="code">output_image_size ~cap ~chan f</code> is <code class="code">output_image ~cap ~chan (f size)</code>
    where <code class="code">size</code> are <code class="code">chan</code>'s current <a href="Notty_unix.html#VALwinsize">output dimensions</a>.
<p>

    If <code class="code">chan</code> is not backed by a tty, as a matter of convenience, <code class="code">f</code> is
    applied to <code class="code">(80, 24)</code>. Use <code class="code"><span class="constructor">Unix</span>.isatty</code> or <a href="Notty_unix.html#VALwinsize"><code class="code">winsize</code></a> to detect
    whether the output has a well-defined size.<br>
</div>

<pre><span id="VALoutput_image_endline"><span class="keyword">val</span> output_image_endline</span> : <code class="type">?cap:<a href="Notty.Cap.html#TYPEt">Cap.t</a> -> ?chan:out_channel -> <a href="Notty.html#TYPEimage">image</a> -> unit</code></pre><div class="info ">
<code class="code">print_image_endline ~cap ~chan i</code> is <code class="code">output_image ~cap ~chan i</code>
    followed by a newline.<br>
</div>
<br>
<h1 id="caps">Capability detection</h1>
<p>

    All <code class="code">image</code> output requires <a href="Notty.Cap.html#TYPEt">terminal
    capabilities</a>.
<p>

    When not provided, capabilities are auto-detected, by checking that the
    output is a tty, that the environment variable <code class="code">$<span class="constructor">TERM</span></code> is set, and that it
    is not set to either <code class="code"><span class="string">""</span></code> or <code class="code"><span class="string">"dumb"</span></code>. If these conditions hold,
    <a href="Notty.Cap.html#VALansi">ANSI</a> escapes are used. Otherwise, <a href="Notty.Cap.html#VALdumb">no</a>
    escapes are used.<br>
</body></html>